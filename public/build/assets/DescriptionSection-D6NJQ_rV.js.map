{"version":3,"file":"DescriptionSection-D6NJQ_rV.js","sources":["../../../resources/js/components/sections/DescriptionSection.tsx"],"sourcesContent":["import { useAppearance } from '@/hooks/use-appearance';\nimport { useState, useEffect, useRef } from 'react';\n\ninterface DescriptionItem {\n  id?: number;\n  title: string;\n  description: string;\n  additionalDescription?: string;\n  images: string[];\n}\n\ninterface DescriptionSectionProps {\n  title?: string;\n  items: DescriptionItem[];\n  backgroundColor?: string;\n  columns?: 1 | 2;\n  showBackground?: boolean;\n}\n\nexport default function DescriptionSection({\n  title,\n  items,\n  backgroundColor = \"bg-white dark:bg-gray-900\",\n  columns = 2,\n  showBackground = true\n}: DescriptionSectionProps) {\n  const { appearance } = useAppearance();\n  const [scrollY, setScrollY] = useState(0);\n  const [visibleItems, setVisibleItems] = useState<Set<number>>(new Set());\n  const [titleVisible, setTitleVisible] = useState(false);\n  const itemRefs = useRef<(HTMLDivElement | null)[]>([]);\n  const titleRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrollY(window.scrollY);\n\n      // Title visibility\n      if (titleRef.current) {\n        const rect = titleRef.current.getBoundingClientRect();\n        if (rect.top < window.innerHeight * 0.9 && !titleVisible) {\n          setTitleVisible(true);\n        }\n      }\n\n      // Item visibility\n      itemRefs.current.forEach((ref, index) => {\n        if (!ref) return;\n        const rect = ref.getBoundingClientRect();\n        if (rect.top < window.innerHeight * 0.75 && rect.bottom > 0 && !visibleItems.has(index)) {\n          setVisibleItems(prev => new Set(prev).add(index));\n        }\n      });\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    handleScroll(); // initial check\n\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [visibleItems, titleVisible]);\n\n  const getParallaxOffset = (index: number) => {\n    const element = itemRefs.current[index];\n    if (!element) return 0;\n    const rect = element.getBoundingClientRect();\n    const elementCenter = rect.top + rect.height / 2;\n    const viewportCenter = window.innerHeight / 2;\n    const distance = viewportCenter - elementCenter;\n    return distance * 0.05; // subtle factor\n  };\n\n  return (\n    <section className={`py-16 px-30 ${backgroundColor} overflow-hidden relative`}>\n      <div className=\"container mx-auto\">\n        {/* Title */}\n        {title && (\n          <div\n            ref={titleRef}\n            className={`text-center mb-12 transition-all duration-1000 ease-out ${\n              titleVisible ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 translate-y-8 scale-95'\n            }`}\n          >\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4 relative inline-block\">\n              {title}\n              <span\n                className={`absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-1000 ease-out ${\n                  titleVisible ? 'w-full' : 'w-0'\n                }`}\n                style={{ transitionDelay: '300ms' }}\n              />\n            </h2>\n          </div>\n        )}\n\n        {/* Items */}\n        <div className=\"space-y-16\">\n          {items.map((item, index) => {\n            const isVisible = visibleItems.has(index);\n            const parallaxOffset = getParallaxOffset(index);\n            const isEven = index % 2 === 0;\n\n            return (\n              <div\n                key={item.id || index}\n                ref={(el) => {\n                  itemRefs.current[index] = el;\n                }}\n                className={`grid ${columns === 2 ? 'md:grid-cols-2' : 'grid-cols-1'} gap-12 items-start ${\n                  showBackground ? 'bg-[#F9F7F5] dark:bg-[#312F33] p-8 rounded-2xl shadow-sm' : ''\n                } transition-all duration-1000 ease-out relative`}\n                style={{\n                  transform: `translateY(${isVisible ? parallaxOffset : 64}px)`,\n                  opacity: isVisible ? 1 : 0\n                }}\n              >\n                {/* LEFT COLUMN */}\n                <div\n                  className={`transition-all duration-1000 ease-out ${\n                    isVisible\n                      ? 'opacity-100 translate-x-0 scale-100'\n                      : `opacity-0 ${isEven ? '-translate-x-12' : 'translate-x-12'} scale-95`\n                  }`}\n                >\n                  <h3 className=\"text-2xl font-semibold text-gray-900 dark:text-gray-100 hover:text-cyan-500 transition-all duration-300 relative group\">\n                    {item.title}\n                    <span className=\"absolute left-0 -bottom-1 w-0 h-0.5 bg-cyan-500 transition-all duration-300 group-hover:w-full\" />\n                  </h3>\n                </div>\n\n                {/* RIGHT COLUMN */}\n                <div className=\"flex flex-col space-y-6 text-gray-700 dark:text-gray-200\">\n                  <div\n                    className={`space-y-4 transition-all duration-1000 ease-out ${\n                      isVisible\n                        ? 'opacity-100 translate-x-0'\n                        : `opacity-0 ${isEven ? 'translate-x-12' : '-translate-x-12'}`\n                    }`}\n                  >\n                    <p className=\"leading-relaxed\">{item.description}</p>\n                    {item.additionalDescription && (\n                      <p className=\"leading-relaxed\">{item.additionalDescription}</p>\n                    )}\n                  </div>\n\n                  {/* Images */}\n                  {item.images && item.images.length > 0 && (\n                    <div className=\"flex flex-col space-y-4\">\n                      {item.images.map((img, imgIndex) => (\n                        <div\n                          key={imgIndex}\n                          className={`w-full overflow-hidden rounded-lg shadow-md hover:shadow-2xl transition-all duration-700 ease-out`}\n                          style={{\n                            transform: `translateY(${isVisible ? parallaxOffset * (0.3 + imgIndex * 0.2) : 48}px)`,\n                            opacity: isVisible ? 1 : 0\n                          }}\n                        >\n                          <img\n                            src={img}\n                            alt={`${item.title} - Image ${imgIndex + 1}`}\n                            className=\"w-full h-[337px] object-cover rounded-lg transition-transform duration-700 ease-out hover:scale-110 hover:rotate-1\"\n                          />\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}"],"names":["DescriptionSection","title","items","backgroundColor","columns","showBackground","useAppearance","scrollY","setScrollY","useState","visibleItems","setVisibleItems","titleVisible","setTitleVisible","itemRefs","useRef","titleRef","useEffect","handleScroll","ref","index","rect","prev","getParallaxOffset","element","elementCenter","jsx","jsxs","item","isVisible","parallaxOffset","isEven","el","img","imgIndex"],"mappings":"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"}