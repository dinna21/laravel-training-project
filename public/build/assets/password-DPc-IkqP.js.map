{"version":3,"file":"password-DPc-IkqP.js","sources":["../../../resources/js/actions/App/Http/Controllers/Settings/PasswordController.ts","../../../resources/js/pages/settings/password.tsx"],"sourcesContent":["import { queryParams, type RouteQueryOptions, type RouteDefinition, type RouteFormDefinition } from './../../../../../wayfinder'\r\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\nexport const edit = (options?: RouteQueryOptions): RouteDefinition<'get'> => ({\n    url: edit.url(options),\n    method: 'get',\n})\n\nedit.definition = {\n    methods: [\"get\",\"head\"],\n    url: '/settings/password',\n} satisfies RouteDefinition<[\"get\",\"head\"]>\n\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\nedit.url = (options?: RouteQueryOptions) => {\r\n    return edit.definition.url + queryParams(options)\n}\n\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\nedit.get = (options?: RouteQueryOptions): RouteDefinition<'get'> => ({\n    url: edit.url(options),\n    method: 'get',\n})\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\nedit.head = (options?: RouteQueryOptions): RouteDefinition<'head'> => ({\n    url: edit.url(options),\n    method: 'head',\n})\n\n    /**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\n    const editForm = (options?: RouteQueryOptions): RouteFormDefinition<'get'> => ({\n        action: edit.url(options),\n        method: 'get',\n    })\n\n            /**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\n        editForm.get = (options?: RouteQueryOptions): RouteFormDefinition<'get'> => ({\n            action: edit.url(options),\n            method: 'get',\n        })\n            /**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::edit\n * @see app/Http/Controllers/Settings/PasswordController.php:18\n * @route '/settings/password'\n */\n        editForm.head = (options?: RouteQueryOptions): RouteFormDefinition<'get'> => ({\n            action: edit.url({\n                        [options?.mergeQuery ? 'mergeQuery' : 'query']: {\n                            _method: 'HEAD',\n                            ...(options?.query ?? options?.mergeQuery ?? {}),\n                        }\n                    }),\n            method: 'get',\n        })\n    \n    edit.form = editForm\r\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::update\n * @see app/Http/Controllers/Settings/PasswordController.php:26\n * @route '/settings/password'\n */\nexport const update = (options?: RouteQueryOptions): RouteDefinition<'put'> => ({\n    url: update.url(options),\n    method: 'put',\n})\n\nupdate.definition = {\n    methods: [\"put\"],\n    url: '/settings/password',\n} satisfies RouteDefinition<[\"put\"]>\n\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::update\n * @see app/Http/Controllers/Settings/PasswordController.php:26\n * @route '/settings/password'\n */\nupdate.url = (options?: RouteQueryOptions) => {\r\n    return update.definition.url + queryParams(options)\n}\n\n/**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::update\n * @see app/Http/Controllers/Settings/PasswordController.php:26\n * @route '/settings/password'\n */\nupdate.put = (options?: RouteQueryOptions): RouteDefinition<'put'> => ({\n    url: update.url(options),\n    method: 'put',\n})\n\n    /**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::update\n * @see app/Http/Controllers/Settings/PasswordController.php:26\n * @route '/settings/password'\n */\n    const updateForm = (options?: RouteQueryOptions): RouteFormDefinition<'post'> => ({\n        action: update.url({\n                    [options?.mergeQuery ? 'mergeQuery' : 'query']: {\n                        _method: 'PUT',\n                        ...(options?.query ?? options?.mergeQuery ?? {}),\n                    }\n                }),\n        method: 'post',\n    })\n\n            /**\r\n* @see \\App\\Http\\Controllers\\Settings\\PasswordController::update\n * @see app/Http/Controllers/Settings/PasswordController.php:26\n * @route '/settings/password'\n */\n        updateForm.put = (options?: RouteQueryOptions): RouteFormDefinition<'post'> => ({\n            action: update.url({\n                        [options?.mergeQuery ? 'mergeQuery' : 'query']: {\n                            _method: 'PUT',\n                            ...(options?.query ?? options?.mergeQuery ?? {}),\n                        }\n                    }),\n            method: 'post',\n        })\n    \n    update.form = updateForm\r\nconst PasswordController = { edit, update }\n\nexport default PasswordController","import PasswordController from '@/actions/App/Http/Controllers/Settings/PasswordController';\nimport InputError from '@/components/input-error';\nimport AppLayout from '@/layouts/app-layout';\nimport SettingsLayout from '@/layouts/settings/layout';\nimport { type BreadcrumbItem } from '@/types';\nimport { Transition } from '@headlessui/react';\nimport { Form, Head } from '@inertiajs/react';\nimport { useRef } from 'react';\n\nimport HeadingSmall from '@/components/heading-small';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { edit } from '@/routes/password';\n\nconst breadcrumbs: BreadcrumbItem[] = [\n    {\n        title: 'Password settings',\n        href: edit().url,\n    },\n];\n\nexport default function Password() {\n    const passwordInput = useRef<HTMLInputElement>(null);\n    const currentPasswordInput = useRef<HTMLInputElement>(null);\n\n    return (\n        <AppLayout breadcrumbs={breadcrumbs}>\n            <Head title=\"Password settings\" />\n\n            <SettingsLayout>\n                <div className=\"space-y-6\">\n                    <HeadingSmall title=\"Update password\" description=\"Ensure your account is using a long, random password to stay secure\" />\n\n                    <Form\n                        {...PasswordController.update.form()}\n                        options={{\n                            preserveScroll: true,\n                        }}\n                        resetOnError={['password', 'password_confirmation', 'current_password']}\n                        resetOnSuccess\n                        onError={(errors) => {\n                            if (errors.password) {\n                                passwordInput.current?.focus();\n                            }\n\n                            if (errors.current_password) {\n                                currentPasswordInput.current?.focus();\n                            }\n                        }}\n                        className=\"space-y-6\"\n                    >\n                        {({ errors, processing, recentlySuccessful }) => (\n                            <>\n                                <div className=\"grid gap-2\">\n                                    <Label htmlFor=\"current_password\">Current password</Label>\n\n                                    <Input\n                                        id=\"current_password\"\n                                        ref={currentPasswordInput}\n                                        name=\"current_password\"\n                                        type=\"password\"\n                                        className=\"mt-1 block w-full\"\n                                        autoComplete=\"current-password\"\n                                        placeholder=\"Current password\"\n                                    />\n\n                                    <InputError message={errors.current_password} />\n                                </div>\n\n                                <div className=\"grid gap-2\">\n                                    <Label htmlFor=\"password\">New password</Label>\n\n                                    <Input\n                                        id=\"password\"\n                                        ref={passwordInput}\n                                        name=\"password\"\n                                        type=\"password\"\n                                        className=\"mt-1 block w-full\"\n                                        autoComplete=\"new-password\"\n                                        placeholder=\"New password\"\n                                    />\n\n                                    <InputError message={errors.password} />\n                                </div>\n\n                                <div className=\"grid gap-2\">\n                                    <Label htmlFor=\"password_confirmation\">Confirm password</Label>\n\n                                    <Input\n                                        id=\"password_confirmation\"\n                                        name=\"password_confirmation\"\n                                        type=\"password\"\n                                        className=\"mt-1 block w-full\"\n                                        autoComplete=\"new-password\"\n                                        placeholder=\"Confirm password\"\n                                    />\n\n                                    <InputError message={errors.password_confirmation} />\n                                </div>\n\n                                <div className=\"flex items-center gap-4\">\n                                    <Button disabled={processing} data-test=\"update-password-button\">Save password</Button>\n\n                                    <Transition\n                                        show={recentlySuccessful}\n                                        enter=\"transition ease-in-out\"\n                                        enterFrom=\"opacity-0\"\n                                        leave=\"transition ease-in-out\"\n                                        leaveTo=\"opacity-0\"\n                                    >\n                                        <p className=\"text-sm text-neutral-600\">Saved</p>\n                                    </Transition>\n                                </div>\n                            </>\n                        )}\n                    </Form>\n                </div>\n            </SettingsLayout>\n        </AppLayout>\n    );\n}\n"],"names":["edit","options","queryParams","editForm","update","updateForm","PasswordController","breadcrumbs","Password","passwordInput","useRef","currentPasswordInput","jsxs","AppLayout","jsx","Head","SettingsLayout","HeadingSmall","Form","errors","processing","recentlySuccessful","Fragment","Label","Input","InputError","Button","Transition"],"mappings":"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"}