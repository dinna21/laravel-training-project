{"version":3,"file":"DescriptionSection-CeCok7bZ.js","sources":["../../../resources/js/components/sections/DescriptionSection.tsx"],"sourcesContent":["import { useAppearance } from '@/hooks/use-appearance';\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\ninterface DescriptionItem {\r\n  id?: number;\r\n  title: string;\r\n  description: string;\r\n  additionalDescription?: string;\r\n  images: string[];\r\n}\r\n\r\ninterface DescriptionSectionProps {\r\n  title?: string;\r\n  items: DescriptionItem[];\r\n  backgroundColor?: string;\r\n  columns?: 1 | 2;\r\n  showBackground?: boolean;\r\n}\r\n\r\nexport default function DescriptionSection({\r\n  title,\r\n  items,\r\n  backgroundColor = \"bg-white dark:bg-gray-900\",\r\n  columns = 2,\r\n  showBackground = true\r\n}: DescriptionSectionProps) {\r\n  const { appearance } = useAppearance();\r\n  const [scrollY, setScrollY] = useState(0);\r\n  const [visibleItems, setVisibleItems] = useState<Set<number>>(new Set());\r\n  const [titleVisible, setTitleVisible] = useState(false);\r\n  const itemRefs = useRef<(HTMLDivElement | null)[]>([]);\r\n  const titleRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScrollY(window.scrollY);\r\n\r\n      // Title visibility\r\n      if (titleRef.current) {\r\n        const rect = titleRef.current.getBoundingClientRect();\r\n        if (rect.top < window.innerHeight * 0.9 && !titleVisible) {\r\n          setTitleVisible(true);\r\n        }\r\n      }\r\n\r\n      // Item visibility\r\n      itemRefs.current.forEach((ref, index) => {\r\n        if (!ref) return;\r\n        const rect = ref.getBoundingClientRect();\r\n        if (rect.top < window.innerHeight * 0.75 && rect.bottom > 0 && !visibleItems.has(index)) {\r\n          setVisibleItems(prev => new Set(prev).add(index));\r\n        }\r\n      });\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    handleScroll(); // initial check\r\n\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [visibleItems, titleVisible]);\r\n\r\n  const getParallaxOffset = (index: number) => {\r\n    const element = itemRefs.current[index];\r\n    if (!element) return 0;\r\n    const rect = element.getBoundingClientRect();\r\n    const elementCenter = rect.top + rect.height / 2;\r\n    const viewportCenter = window.innerHeight / 2;\r\n    const distance = viewportCenter - elementCenter;\r\n    return distance * 0.05; // subtle factor\r\n  };\r\n\r\n  return (\r\n    <section className={`py-16 px-30 ${backgroundColor} overflow-hidden relative`}>\r\n      <div className=\"container mx-auto\">\r\n        {/* Title */}\r\n        {title && (\r\n          <div\r\n            ref={titleRef}\r\n            className={`text-center mb-12 transition-all duration-1000 ease-out ${\r\n              titleVisible ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 translate-y-8 scale-95'\r\n            }`}\r\n          >\r\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4 relative inline-block\">\r\n              {title}\r\n              <span\r\n                className={`absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-1000 ease-out ${\r\n                  titleVisible ? 'w-full' : 'w-0'\r\n                }`}\r\n                style={{ transitionDelay: '300ms' }}\r\n              />\r\n            </h2>\r\n          </div>\r\n        )}\r\n\r\n        {/* Items */}\r\n        <div className=\"space-y-16\">\r\n          {items.map((item, index) => {\r\n            const isVisible = visibleItems.has(index);\r\n            const parallaxOffset = getParallaxOffset(index);\r\n            const isEven = index % 2 === 0;\r\n\r\n            return (\r\n              <div\r\n                key={item.id || index}\r\n                ref={(el) => {\r\n                  itemRefs.current[index] = el;\r\n                }}\r\n                className={`grid ${columns === 2 ? 'md:grid-cols-2' : 'grid-cols-1'} gap-12 items-start ${\r\n                  showBackground ? 'bg-[#F9F7F5] dark:bg-[#312F33] p-8 rounded-2xl shadow-sm' : ''\r\n                } transition-all duration-1000 ease-out relative`}\r\n                style={{\r\n                  transform: `translateY(${isVisible ? parallaxOffset : 64}px)`,\r\n                  opacity: isVisible ? 1 : 0\r\n                }}\r\n              >\r\n                {/* LEFT COLUMN */}\r\n                <div\r\n                  className={`transition-all duration-1000 ease-out ${\r\n                    isVisible\r\n                      ? 'opacity-100 translate-x-0 scale-100'\r\n                      : `opacity-0 ${isEven ? '-translate-x-12' : 'translate-x-12'} scale-95`\r\n                  }`}\r\n                >\r\n                  <h3 className=\"text-2xl font-semibold text-gray-900 dark:text-gray-100 hover:text-cyan-500 transition-all duration-300 relative group\">\r\n                    {item.title}\r\n                    <span className=\"absolute left-0 -bottom-1 w-0 h-0.5 bg-cyan-500 transition-all duration-300 group-hover:w-full\" />\r\n                  </h3>\r\n                </div>\r\n\r\n                {/* RIGHT COLUMN */}\r\n                <div className=\"flex flex-col space-y-6 text-gray-700 dark:text-gray-200\">\r\n                  <div\r\n                    className={`space-y-4 transition-all duration-1000 ease-out ${\r\n                      isVisible\r\n                        ? 'opacity-100 translate-x-0'\r\n                        : `opacity-0 ${isEven ? 'translate-x-12' : '-translate-x-12'}`\r\n                    }`}\r\n                  >\r\n                    <p className=\"leading-relaxed\">{item.description}</p>\r\n                    {item.additionalDescription && (\r\n                      <p className=\"leading-relaxed\">{item.additionalDescription}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Images */}\r\n                  {item.images && item.images.length > 0 && (\r\n                    <div className=\"flex flex-col space-y-4\">\r\n                      {item.images.map((img, imgIndex) => (\r\n                        <div\r\n                          key={imgIndex}\r\n                          className={`w-full overflow-hidden rounded-lg shadow-md hover:shadow-2xl transition-all duration-700 ease-out`}\r\n                          style={{\r\n                            transform: `translateY(${isVisible ? parallaxOffset * (0.3 + imgIndex * 0.2) : 48}px)`,\r\n                            opacity: isVisible ? 1 : 0\r\n                          }}\r\n                        >\r\n                          <img\r\n                            src={img}\r\n                            alt={`${item.title} - Image ${imgIndex + 1}`}\r\n                            className=\"w-full h-[337px] object-cover rounded-lg transition-transform duration-700 ease-out hover:scale-110 hover:rotate-1\"\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}"],"names":["DescriptionSection","title","items","backgroundColor","columns","showBackground","useAppearance","scrollY","setScrollY","useState","visibleItems","setVisibleItems","titleVisible","setTitleVisible","itemRefs","useRef","titleRef","useEffect","handleScroll","ref","index","rect","prev","getParallaxOffset","element","elementCenter","jsx","jsxs","item","isVisible","parallaxOffset","isEven","el","img","imgIndex"],"mappings":"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"}